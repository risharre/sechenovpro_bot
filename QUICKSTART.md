# üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ Sechenov Pro Bot

## –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ:

‚úÖ **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞** - –ø–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è** - —Å–∏—Å—Ç–µ–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è  
‚úÖ **–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö** - –∫–ª–∞—Å—Å—ã –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π, —Å—Ç–∞–Ω—Ü–∏–π  
‚úÖ **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Supabase  
‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–æ–≤ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π  
‚úÖ **CSV –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤  
‚úÖ **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ—Ç–∞** - –∫–∞—Ä–∫–∞—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ env_example.txt –≤ .env
cp env_example.txt .env

# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env —Ñ–∞–π–ª:
# - BOT_TOKEN (–æ—Ç @BotFather)
# - SUPABASE_URL –∏ SUPABASE_KEY
# - ADMIN_IDS (–≤–∞—à Telegram ID)
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
```sql
-- –í—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ Supabase SQL Editor:
-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ database_init.sql
```

### 3. –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:

#### –ê. Handlers (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥):
- `src/handlers/participant.py` - –∫–æ–º–∞–Ω–¥—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (`/start`, –º–µ–Ω—é)
- `src/handlers/admin.py` - –∫–æ–º–∞–Ω–¥—ã –∞–¥–º–∏–Ω–æ–≤ (`/start_event`, `/report`)
- `src/handlers/menu.py` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ inline –∫–Ω–æ–ø–æ–∫

#### –ë. Database queries:
- `src/database/queries.py` - SQL –∑–∞–ø—Ä–æ—Å—ã –∫ Supabase

#### –í. Scheduler (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫):
- `src/utils/scheduler.py` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—Å—ã–ª–∫–∏ —Å—Ç–∞–Ω—Ü–∏–π

#### –ì. Text manager:
- `src/utils/text_manager.py` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π

#### –î. Middleware:
- `src/middleware/auth.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–æ–≤
- `src/middleware/rate_limit.py` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:

```
sechenovpro_bot/
‚îú‚îÄ‚îÄ src/                     # ‚úÖ –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
‚îÇ   ‚îú‚îÄ‚îÄ bot/                 # ‚úÖ –û—Å–Ω–æ–≤–∞ –±–æ—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py        # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.py          # ‚úÖ –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ database/            # ‚úÖ –†–∞–±–æ—Ç–∞ —Å –ë–î
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py        # ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ connection.py    # ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Supabase
‚îÇ   ‚îú‚îÄ‚îÄ utils/               # ‚úÖ –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logger.py        # ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ csv_handler.py   # ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ CSV
‚îÇ   ‚îú‚îÄ‚îÄ handlers/            # ‚è≥ –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
‚îÇ   ‚îú‚îÄ‚îÄ middleware/          # ‚è≥ –ù—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å
‚îú‚îÄ‚îÄ data/                    # ‚úÖ –î–∞–Ω–Ω—ã–µ
‚îÇ   ‚îî‚îÄ‚îÄ routes.csv           # ‚úÖ –ú–∞—Ä—à—Ä—É—Ç—ã —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
‚îú‚îÄ‚îÄ stations_config.json     # ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç–∞–Ω—Ü–∏–π
‚îú‚îÄ‚îÄ main.py                  # ‚úÖ –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ database_init.sql        # ‚úÖ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤—ã:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pip install -r requirements.txt

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –æ—à–∏–±–∫—É –±–µ–∑ .env)
python -c "from src.bot.config import Config; print('Config OK')"

# –¢–µ—Å—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
python -c "from src.utils.logger import get_logger; get_logger('test').info('Test')"

# –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤
python -c "from src.utils.csv_handler import get_route_manager; rm = get_route_manager(); print(rm.load_routes_from_csv())"
```

## –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ: 70%

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ CSV
- ‚úÖ –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–¥–µ–ª–∞—Ç—å:**
- ‚è≥ Handlers –∫–æ–º–∞–Ω–¥
- ‚è≥ SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚è≥ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–∞—Å—Å—ã–ª–æ–∫
- ‚è≥ –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –º–µ–Ω—é
- ‚è≥ Middleware

**–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –¥–æ MVP:** 1-2 –¥–Ω—è –∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

üéØ **–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–∞ –≤—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –æ—Å–Ω–æ–≤–∞, –º–æ–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é handlers –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏! 